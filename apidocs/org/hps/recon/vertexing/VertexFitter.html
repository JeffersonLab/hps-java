<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_382) on Thu Sep 07 22:50:32 UTC 2023 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>VertexFitter (HPS Java 5.2.1 API)</title>
<meta name="date" content="2023-09-07">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="VertexFitter (HPS Java 5.2.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/VertexFitter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/hps/recon/vertexing/VertexFit.html" title="class in org.hps.recon.vertexing"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/hps/recon/vertexing/VertexingTestDriver.html" title="class in org.hps.recon.vertexing"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/hps/recon/vertexing/VertexFitter.html" target="_top">Frames</a></li>
<li><a href="VertexFitter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.hps.recon.vertexing</div>
<h2 title="Class VertexFitter" class="title">Class VertexFitter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.hps.recon.vertexing.VertexFitter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">VertexFitter</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Fit a set of straight line tracks to a common vertex</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#Z:Z_maxIterations">_maxIterations</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#Z:Z_tol">_tol</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/hps/recon/vertexing/VertexFit.html" title="class in org.hps.recon.vertexing">VertexFit</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#Z:Z_vfit">_vfit</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#Z:Z_xref">_xref</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#VertexFitter-double-">VertexFitter</a></span>(double&nbsp;xref)</code>
<div class="block">Instantiate the vertex fitting class for the Heavy Photon Search simulation.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#ApproximateIntersection-org.hps.recon.tracking.StraightLineTrack-org.hps.recon.tracking.StraightLineTrack-">ApproximateIntersection</a></span>(<a href="../../../../org/hps/recon/tracking/StraightLineTrack.html" title="class in org.hps.recon.tracking">StraightLineTrack</a>&nbsp;slt1,
                       <a href="../../../../org/hps/recon/tracking/StraightLineTrack.html" title="class in org.hps.recon.tracking">StraightLineTrack</a>&nbsp;slt2)</code>
<div class="block">Find a first approximation to the unmeasured variables by finding the track intersections in the x-y and x-z
 planes.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#CalculateAA-int-hep.physics.matrix.Matrix-hep.physics.matrix.Matrix-hep.physics.matrix.Matrix-hep.physics.matrix.Matrix-">CalculateAA</a></span>(int&nbsp;ntrks,
           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;BB,
           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;BStar,
           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;GInv,
           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;GStar)</code>
<div class="block">Calculate the matrix AA that provides the coefficients for the system of linear equations to be solved</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#CalculateBB-int-hep.physics.matrix.Matrix-">CalculateBB</a></span>(int&nbsp;ntrks,
           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;xstar)</code>
<div class="block">Calculate derivative of constraints with respect to the measured variables.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#CalculateBStar-int-hep.physics.matrix.Matrix-">CalculateBStar</a></span>(int&nbsp;ntrks,
              <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;xx)</code>
<div class="block">Calculate derivative of constraints with respect to the unmeasured variables.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#CalculateFF-int-hep.physics.matrix.Matrix-hep.physics.matrix.Matrix-">CalculateFF</a></span>(int&nbsp;ntrks,
           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;xx,
           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;xstar)</code>
<div class="block">Evaluate the residual values for the constraint equations (the fitter will try to force this vector to 0).</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#Converged-hep.physics.matrix.Matrix-">Converged</a></span>(<a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;FF)</code>
<div class="block">Check to see if all the constraints are satisfied within the tolerance that has been set.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#FillCovariance-java.util.List-">FillCovariance</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/hps/recon/tracking/StraightLineTrack.html" title="class in org.hps.recon.tracking">StraightLineTrack</a>&gt;&nbsp;sltlist)</code>
<div class="block">Extract the covariance matrix.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#FillMeasured-java.util.List-">FillMeasured</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/hps/recon/tracking/StraightLineTrack.html" title="class in org.hps.recon.tracking">StraightLineTrack</a>&gt;&nbsp;sltlist)</code>
<div class="block">Extract the measured variables from the list of straight line tracks.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../org/hps/recon/vertexing/VertexFit.html" title="class in org.hps.recon.vertexing">VertexFit</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#getFit--">getFit</a></span>()</code>
<div class="block">Retrieve the VertexFit class containing the results of the fit</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#setMaxIterations-int-">setMaxIterations</a></span>(int&nbsp;maxIterations)</code>
<div class="block">Set the maximum number of iterations to try before the fit fails for lack of convergence (default is 100).</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#setTolerance-double-">setTolerance</a></span>(double&nbsp;tol)</code>
<div class="block">Set the convergence criteria for the fit (default is 1E-9).</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/vertexing/VertexFitter.html#VertexFit-java.util.List-">VertexFit</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/hps/recon/tracking/StraightLineTrack.html" title="class in org.hps.recon.tracking">StraightLineTrack</a>&gt;&nbsp;sltlist)</code>
<div class="block">Perform a vertex fit of the specified StraightLineTracks.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="Z:Z_xref">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_xref</h4>
<pre>private&nbsp;double _xref</pre>
</li>
</ul>
<a name="Z:Z_tol">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_tol</h4>
<pre>private&nbsp;double _tol</pre>
</li>
</ul>
<a name="Z:Z_maxIterations">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_maxIterations</h4>
<pre>private&nbsp;int _maxIterations</pre>
</li>
</ul>
<a name="Z:Z_vfit">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_vfit</h4>
<pre>private&nbsp;<a href="../../../../org/hps/recon/vertexing/VertexFit.html" title="class in org.hps.recon.vertexing">VertexFit</a> _vfit</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="VertexFitter-double-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VertexFitter</h4>
<pre>public&nbsp;VertexFitter(double&nbsp;xref)</pre>
<div class="block">Instantiate the vertex fitting class for the Heavy Photon Search simulation. The tracks are assumed to travel in
 the +x direction in a field-free region for x < xref. For x > xref, the particles are assumed to travel in a
 helical trajectory. HelixConverter should be called before VertexFitter to transform the helices to
 StraightLineTracks at the x = xref boundary.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xref</code> - x coordinate of the magnetic field boundary</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="VertexFit-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>VertexFit</h4>
<pre>public&nbsp;boolean&nbsp;VertexFit(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/hps/recon/tracking/StraightLineTrack.html" title="class in org.hps.recon.tracking">StraightLineTrack</a>&gt;&nbsp;sltlist)</pre>
<div class="block">Perform a vertex fit of the specified StraightLineTracks. At least two tracks must be provided to locate the
 vertex position. The fitter performs a chi^2 minimization using the correlated track errors using the method of
 Lagrange Multipliers to impose the constraint that the track passes through the vertex position. The vertex
 position is assumed to be unmeasured. The algorithm follows the fitting formalism used by SQUAW, with the vertex
 position treated as a "poorly measured variable" with infinite error. Matrix names largely follow the SQUAW
 writeup where defined. A writeup of the SQUAW fitting procedure can be found in the cvs directory containing this
 package.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sltlist</code> - list of StraightLineTracks to be fit</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>fit success flag - true if the fit converged</dd>
</dl>
</li>
</ul>
<a name="getFit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFit</h4>
<pre>public&nbsp;<a href="../../../../org/hps/recon/vertexing/VertexFit.html" title="class in org.hps.recon.vertexing">VertexFit</a>&nbsp;getFit()</pre>
<div class="block">Retrieve the VertexFit class containing the results of the fit</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>fit results</dd>
</dl>
</li>
</ul>
<a name="setTolerance-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTolerance</h4>
<pre>public&nbsp;void&nbsp;setTolerance(double&nbsp;tol)</pre>
<div class="block">Set the convergence criteria for the fit (default is 1E-9). Units are mm.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tol</code> - convergence criteria</dd>
</dl>
</li>
</ul>
<a name="setMaxIterations-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxIterations</h4>
<pre>public&nbsp;void&nbsp;setMaxIterations(int&nbsp;maxIterations)</pre>
<div class="block">Set the maximum number of iterations to try before the fit fails for lack of convergence (default is 100).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxIterations</code> - maximum number of fit iterations</dd>
</dl>
</li>
</ul>
<a name="FillMeasured-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FillMeasured</h4>
<pre>private&nbsp;<a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;FillMeasured(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/hps/recon/tracking/StraightLineTrack.html" title="class in org.hps.recon.tracking">StraightLineTrack</a>&gt;&nbsp;sltlist)</pre>
<div class="block">Extract the measured variables from the list of straight line tracks. Measurement variables are saved as four
 consecutive values (y0, y', z0, z') for each track, with the measurement variables for track 0 coming first.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sltlist</code> - list of StraightLineTracks</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>column matrix containing the measured variables</dd>
</dl>
</li>
</ul>
<a name="FillCovariance-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FillCovariance</h4>
<pre>private&nbsp;<a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;FillCovariance(<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/hps/recon/tracking/StraightLineTrack.html" title="class in org.hps.recon.tracking">StraightLineTrack</a>&gt;&nbsp;sltlist)</pre>
<div class="block">Extract the covariance matrix. It is assumed that there are no correlations between tracks. Ordering of elements
 in the covariance matrix follows the ordering of the measured variables.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sltlist</code> - list of StraightLineTracks</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>covariance matrix</dd>
</dl>
</li>
</ul>
<a name="ApproximateIntersection-org.hps.recon.tracking.StraightLineTrack-org.hps.recon.tracking.StraightLineTrack-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ApproximateIntersection</h4>
<pre>private&nbsp;<a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;ApproximateIntersection(<a href="../../../../org/hps/recon/tracking/StraightLineTrack.html" title="class in org.hps.recon.tracking">StraightLineTrack</a>&nbsp;slt1,
                                       <a href="../../../../org/hps/recon/tracking/StraightLineTrack.html" title="class in org.hps.recon.tracking">StraightLineTrack</a>&nbsp;slt2)</pre>
<div class="block">Find a first approximation to the unmeasured variables by finding the track intersections in the x-y and x-z
 planes. The intersection points for the two planes are averaged.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slt1</code> - first StraightLineTrack to use</dd>
<dd><code>slt2</code> - second StraightLineTrack to use</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>column matrix containing the first approximation of the vertex position</dd>
</dl>
</li>
</ul>
<a name="CalculateBB-int-hep.physics.matrix.Matrix-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CalculateBB</h4>
<pre>private&nbsp;<a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;CalculateBB(int&nbsp;ntrks,
                           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;xstar)</pre>
<div class="block">Calculate derivative of constraints with respect to the measured variables. Each track has two constraint
 equations: f_y(i) = y0(i) + y'(i) * (xv - xref) - yv f_z(i) = z0(i) + z'(i) * (xv - xref) - zv Save the result in
 the form BB(i,j) = df(j)/dx(i)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ntrks</code> - number of tracks</dd>
<dd><code>xstar</code> - current estimate of the vertex position</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>constraint derivatives with respect to the measured variables</dd>
</dl>
</li>
</ul>
<a name="CalculateBStar-int-hep.physics.matrix.Matrix-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CalculateBStar</h4>
<pre>private&nbsp;<a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;CalculateBStar(int&nbsp;ntrks,
                              <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;xx)</pre>
<div class="block">Calculate derivative of constraints with respect to the unmeasured variables. Each track has two constraint
 equations: f_y(i) = y0(i) + y'(i) * (xv - xref) - yv f_z(i) = z0(i) + z'(i) * (xv - xref) - zv Save the result in
 the form BStar(i,j) = df(j)/dxv(i)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ntrks</code> - number of tracks</dd>
<dd><code>xx</code> - current estimate of the measured variables</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>constraint derivatives with respect to the unmeasured variables</dd>
</dl>
</li>
</ul>
<a name="CalculateAA-int-hep.physics.matrix.Matrix-hep.physics.matrix.Matrix-hep.physics.matrix.Matrix-hep.physics.matrix.Matrix-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CalculateAA</h4>
<pre>private&nbsp;<a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;CalculateAA(int&nbsp;ntrks,
                           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;BB,
                           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;BStar,
                           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;GInv,
                           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;GStar)</pre>
<div class="block">Calculate the matrix AA that provides the coefficients for the system of linear equations to be solved</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ntrks</code> - number of tracks</dd>
<dd><code>BB</code> - constraint derivatives for the measured variables</dd>
<dd><code>BStar</code> - constraint derivatives for the unmeasured variables</dd>
<dd><code>GInv</code> - inverse of the covariance matrix for the measured variables</dd>
<dd><code>GStar</code> - inverse of the covariance matrix for the unmeasured variables</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>matrix containing coefficients for the system of linear equations</dd>
</dl>
</li>
</ul>
<a name="CalculateFF-int-hep.physics.matrix.Matrix-hep.physics.matrix.Matrix-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CalculateFF</h4>
<pre>private&nbsp;<a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;CalculateFF(int&nbsp;ntrks,
                           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;xx,
                           <a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;xstar)</pre>
<div class="block">Evaluate the residual values for the constraint equations (the fitter will try to force this vector to 0). Each
 track has two constraint equations: f_y(i) = y0(i) + y'(i) * (xv - xref) - yv f_z(i) = z0(i) + z'(i) * (xv -
 xref) - zv Save the result in the form FF(2*i) = f_y(i), FF(2*i+) = f_z(i)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ntrks</code> - number of tracks</dd>
<dd><code>xx</code> - measured variables</dd>
<dd><code>xstar</code> - unmeasured variables (vertex position)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>column matrix containing the residuals of the constaint equations</dd>
</dl>
</li>
</ul>
<a name="Converged-hep.physics.matrix.Matrix-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Converged</h4>
<pre>private&nbsp;boolean&nbsp;Converged(<a href="http://java.freehep.org/freehep-physics/apidocs/hep/physics/matrix/Matrix.html?is-external=true" title="class or interface in hep.physics.matrix">Matrix</a>&nbsp;FF)</pre>
<div class="block">Check to see if all the constraints are satisfied within the tolerance that has been set.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>FF</code> - constraint residuals</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the fit has converged</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/VertexFitter.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/hps/recon/vertexing/VertexFit.html" title="class in org.hps.recon.vertexing"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/hps/recon/vertexing/VertexingTestDriver.html" title="class in org.hps.recon.vertexing"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/hps/recon/vertexing/VertexFitter.html" target="_top">Frames</a></li>
<li><a href="VertexFitter.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2023 <a href="https://confluence.slac.stanford.edu/display/hpsg/Heavy+Photon+Search+Experiment">Heavy Photon Search (HPS)</a>. All rights reserved.</small></p>
</body>
</html>