<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_382) on Thu Sep 07 22:06:10 UTC 2023 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>EcalRawConverter2 (HPS Java 5.2.1 API)</title>
<meta name="date" content="2023-09-07">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EcalRawConverter2 (HPS Java 5.2.1 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EcalRawConverter2.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/hps/recon/ecal/EcalRawConverter.html" title="class in org.hps.recon.ecal"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/hps/recon/ecal/EcalRawConverter2Driver.html" title="class in org.hps.recon.ecal"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/hps/recon/ecal/EcalRawConverter2.html" target="_top">Frames</a></li>
<li><a href="EcalRawConverter2.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.hps.recon.ecal</div>
<h2 title="Class EcalRawConverter2" class="title">Class EcalRawConverter2</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.hps.recon.ecal.EcalRawConverter2</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">EcalRawConverter2</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class is used to convert between <a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawCalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event"><code>RawCalorimeterHit</code></a> or
 <a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawTrackerHit.html?is-external=true" title="class or interface in org.lcsim.event"><code>RawTrackerHit</code></a>, objects with ADC/sample information, and
 <a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/CalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event"><code>CalorimeterHit</code></a>, an object with energy+time information. At minimum this involves pedestal
 subtraction/addition and gain scaling. Knows how to deal with Mode-1/3/7 FADC readout formats. Can perform Mode-3/7
 firmware algorithms on Mode-1 data. Can alternatively call pulse-fitting on Mode-1 data. All time walk/time offset
 corrections are performed to this collection after gains in EcalTimeCorrectionDriver</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/hps/record/daqconfig/FADCConfig.html" title="class in org.hps.record.daqconfig">FADCConfig</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#config">config</a></span></code>
<div class="block">The DAQ configuration from EVIO used to set EcalRawConverter parameters if useDAQConfig=true.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#constantGain">constantGain</a></span></code>
<div class="block">If true, use a single gain factor for all channels.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/hps/conditions/ecal/EcalConditions.html" title="class in org.hps.conditions.ecal">EcalConditions</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#ecalConditions">ecalConditions</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#gain">gain</a></span></code>
<div class="block">A single gain factor for all channels (only used if constantGain=true)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#leadingEdgeThreshold">leadingEdgeThreshold</a></span></code>
<div class="block">The leading-edge threshold, relative to pedestal, for pulse-finding and time determination.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#mode7">mode7</a></span></code>
<div class="block">Perform Mode-7 algorithm, else Mode-3.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#nPeak">nPeak</a></span></code>
<div class="block">The maximum number of peaks to be searched for.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#NSA">NSA</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#NSB">NSB</a></span></code>
<div class="block">Integration range after (NSA) and before (NSB) threshold crossing.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#nsPerSample">nsPerSample</a></span></code>
<div class="block">The time for one FADC sample (units = ns).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../../org/hps/recon/ecal/EcalPulseFitter.html" title="class in org.hps.recon.ecal">EcalPulseFitter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#pulseFitter">pulseFitter</a></span></code>
<div class="block">The pulse fitter class.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#use2014Gain">use2014Gain</a></span></code>
<div class="block">If true, the relationship between ADC and GeV is a convention that includes readoutPeriod and a global scaling
 factor.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#useDAQConfig">useDAQConfig</a></span></code>
<div class="block">If true, use the DAQ configuration from EVIO to set EcalRawConverter parameters.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#useFit">useFit</a></span></code>
<div class="block">Whether to use pulse fitting (EcalPulseFitter) to extract pulse energy time.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#useRunningPedestal">useRunningPedestal</a></span></code>
<div class="block">If true, running pedestal is used.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#useTimeWalkCorrection">useTimeWalkCorrection</a></span></code>
<div class="block">If true, time walk correction is performed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#windowSamples">windowSamples</a></span></code>
<div class="block">The number of samples in the FADC readout window.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#EcalRawConverter2--">EcalRawConverter2</a></span>()</code>
<div class="block">Currently sets up a listener for DAQ configuration from EVIO.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#adcToEnergy-double-long-">adcToEnergy</a></span>(double&nbsp;adcSum,
           long&nbsp;cellID)</code>
<div class="block">return energy (units of GeV) corresponding to the ADC sum and crystal ID</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#convertWaveformToPulse-org.lcsim.event.RawTrackerHit-int-boolean-">convertWaveformToPulse</a></span>(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawTrackerHit.html?is-external=true" title="class or interface in org.lcsim.event">RawTrackerHit</a>&nbsp;hit,
                      int&nbsp;thresholdCrossing,
                      boolean&nbsp;mode7)</code>
<div class="block">Emulate the FADC250 firmware in conversion of Mode-1 waveform to a Mode-3/7 pulse, given a time for threshold
 crossing.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../org/hps/conditions/ecal/EcalChannelConstants.html" title="class in org.hps.conditions.ecal">EcalChannelConstants</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#findChannel-long-">findChannel</a></span>(long&nbsp;cellID)</code>
<div class="block">Convert physical ID to gain value.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#getPulsePedestal-org.lcsim.event.EventHeader-long-int-int-">getPulsePedestal</a></span>(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/EventHeader.html?is-external=true" title="class or interface in org.lcsim.event">EventHeader</a>&nbsp;event,
                long&nbsp;cellID,
                int&nbsp;windowSamples,
                int&nbsp;thresholdCrossing)</code>
<div class="block">Get pedestal for entire pulse integral.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#getSingleSamplePedestal-org.lcsim.event.EventHeader-long-">getSingleSamplePedestal</a></span>(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/EventHeader.html?is-external=true" title="class or interface in org.lcsim.event">EventHeader</a>&nbsp;event,
                       long&nbsp;cellID)</code>
<div class="block">Get pedestal for a single ADC sample.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawCalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">RawCalorimeterHit</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#HitAtoD-org.lcsim.event.CalorimeterHit-">HitAtoD</a></span>(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/CalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">CalorimeterHit</a>&nbsp;hit)</code>
<div class="block">This converts a corrected pulse integral (pedestal-subtracted and gain-scaled) back into raw pulse integral with
 units ADC.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/CalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">CalorimeterHit</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#HitDtoA-org.lcsim.event.EventHeader-org.lcsim.event.RawCalorimeterHit-double-">HitDtoA</a></span>(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/EventHeader.html?is-external=true" title="class or interface in org.lcsim.event">EventHeader</a>&nbsp;event,
       <a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawCalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">RawCalorimeterHit</a>&nbsp;hit,
       double&nbsp;timeOffset)</code>
<div class="block">This HitDtoA is for Mode-3 data.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/CalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">CalorimeterHit</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#HitDtoA-org.lcsim.event.EventHeader-org.lcsim.event.RawCalorimeterHit-org.lcsim.event.GenericObject-double-">HitDtoA</a></span>(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/EventHeader.html?is-external=true" title="class or interface in org.lcsim.event">EventHeader</a>&nbsp;event,
       <a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawCalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">RawCalorimeterHit</a>&nbsp;hit,
       <a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/GenericObject.html?is-external=true" title="class or interface in org.lcsim.event">GenericObject</a>&nbsp;mode7Data,
       double&nbsp;timeOffset)</code>
<div class="block">This HitDtoA is exclusively for Mode-7 data, hence the GenericObject parameter.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html?is-external=true" title="class or interface in java.util">ArrayList</a>&lt;<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/CalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">CalorimeterHit</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#HitDtoA-org.lcsim.event.EventHeader-org.lcsim.event.RawTrackerHit-">HitDtoA</a></span>(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/EventHeader.html?is-external=true" title="class or interface in org.lcsim.event">EventHeader</a>&nbsp;event,
       <a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawTrackerHit.html?is-external=true" title="class or interface in org.lcsim.event">RawTrackerHit</a>&nbsp;hit)</code>
<div class="block">This HitDtoA is for emulating the conversion of Mode-1 readout (RawTrackerHit) into what EcalRawConverter would
 have created from a Mode-3 or Mode-7 readout.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/CalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">CalorimeterHit</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#HitDtoA-org.lcsim.event.RawTrackerHit-">HitDtoA</a></span>(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawTrackerHit.html?is-external=true" title="class or interface in org.lcsim.event">RawTrackerHit</a>&nbsp;hit)</code>
<div class="block">This should probably be deprecated.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setDetector-org.lcsim.geometry.Detector-">setDetector</a></span>(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/geometry/Detector.html?is-external=true" title="class or interface in org.lcsim.geometry">Detector</a>&nbsp;detector)</code>
<div class="block">Must be set when an object EcalRawConverter is created.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setFitLimitTimeHi-int-">setFitLimitTimeHi</a></span>(int&nbsp;sample)</code>
<div class="block">Tell Minuit to limit pulse time parameter in fit to be less than this.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setFitLimitTimeLo-int-">setFitLimitTimeLo</a></span>(int&nbsp;sample)</code>
<div class="block">Tell Minuit to limit pulse time parameter in fit to be greater than this.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setFitThresholdTimeHi-int-">setFitThresholdTimeHi</a></span>(int&nbsp;sample)</code>
<div class="block">Pulses with threshold crossing time greater than this will not be fit.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setFitThresholdTimeLo-int-">setFitThresholdTimeLo</a></span>(int&nbsp;sample)</code>
<div class="block">Pulses with threshold crossing earlier than this will not be fit.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setFixShapeParameter-boolean-">setFixShapeParameter</a></span>(boolean&nbsp;fix)</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setGain-double-">setGain</a></span>(double&nbsp;gain)</code>
<div class="block">Set global gain value and turn on constant gain.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setGlobalFixedPulseWidth-double-">setGlobalFixedPulseWidth</a></span>(double&nbsp;width)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setLeadingEdgeThreshold-double-">setLeadingEdgeThreshold</a></span>(double&nbsp;thresh)</code>
<div class="block">Set threshold for pulse finding.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setMode7-boolean-">setMode7</a></span>(boolean&nbsp;mode7)</code>
<div class="block">Set Mode-7 emulation on/off.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setNPeak-int-">setNPeak</a></span>(int&nbsp;nPeak)</code>
<div class="block">Set maximum number of pulses to search for in Mode-1 data.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setNSA-int-">setNSA</a></span>(int&nbsp;nsa)</code>
<div class="block">Set number of samples after threshold crossing for pulse integration range.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setNSB-int-">setNSB</a></span>(int&nbsp;nsb)</code>
<div class="block">Set number of samples before threshold crossing for pulse integration range.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setUse2014Gain-boolean-">setUse2014Gain</a></span>(boolean&nbsp;use2014Gain)</code>
<div class="block">Chooses which ADC --> Energy convention is used.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setUseDAQConfig-boolean-">setUseDAQConfig</a></span>(boolean&nbsp;state)</code>
<div class="block">Set whether to use DAQ configuration read from EVIO to set EcalRawConverter parameters.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setUseFit-boolean-">setUseFit</a></span>(boolean&nbsp;useFit)</code>&nbsp;</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setUseRunningPedestal-boolean-">setUseRunningPedestal</a></span>(boolean&nbsp;useRunningPedestal)</code>
<div class="block">Enables using running pedestals calculated on the fly from previous events.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setUseTimeWalkCorrection-boolean-">setUseTimeWalkCorrection</a></span>(boolean&nbsp;useTimeWalkCorrection)</code>
<div class="block">Set whether to use timewalk corrections.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#setWindowSamples-int-">setWindowSamples</a></span>(int&nbsp;windowSamples)</code>
<div class="block">Set number of samples in readout window.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/hps/recon/ecal/EcalRawConverter2.html#sumADC-org.lcsim.event.RawTrackerHit-">sumADC</a></span>(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawTrackerHit.html?is-external=true" title="class or interface in org.lcsim.event">RawTrackerHit</a>&nbsp;hit)</code>
<div class="block">Integrate the entire window.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="useTimeWalkCorrection">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useTimeWalkCorrection</h4>
<pre>private&nbsp;boolean useTimeWalkCorrection</pre>
<div class="block">If true, time walk correction is performed.</div>
</li>
</ul>
<a name="useRunningPedestal">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useRunningPedestal</h4>
<pre>private&nbsp;boolean useRunningPedestal</pre>
<div class="block">If true, running pedestal is used.</div>
</li>
</ul>
<a name="constantGain">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>constantGain</h4>
<pre>private&nbsp;boolean constantGain</pre>
<div class="block">If true, use a single gain factor for all channels. Else, use 442 gains from the conditions system.</div>
</li>
</ul>
<a name="gain">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gain</h4>
<pre>private&nbsp;double gain</pre>
<div class="block">A single gain factor for all channels (only used if constantGain=true)</div>
</li>
</ul>
<a name="use2014Gain">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>use2014Gain</h4>
<pre>private&nbsp;boolean use2014Gain</pre>
<div class="block">If true, the relationship between ADC and GeV is a convention that includes readoutPeriod and a global scaling
 factor. If false, it is the currently used convention: E(GeV) = GAIN * ADC</div>
</li>
</ul>
<a name="useDAQConfig">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useDAQConfig</h4>
<pre>private&nbsp;boolean useDAQConfig</pre>
<div class="block">If true, use the DAQ configuration from EVIO to set EcalRawConverter parameters. This should be removed to a
 standalone EcalRawConverter solely for trigger emulation.</div>
</li>
</ul>
<a name="config">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>config</h4>
<pre>private&nbsp;<a href="../../../../org/hps/record/daqconfig/FADCConfig.html" title="class in org.hps.record.daqconfig">FADCConfig</a> config</pre>
<div class="block">The DAQ configuration from EVIO used to set EcalRawConverter parameters if useDAQConfig=true. This should be
 removed to a standalone EcalRawConverter solely for trigger emulation.</div>
</li>
</ul>
<a name="useFit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>useFit</h4>
<pre>private&nbsp;boolean useFit</pre>
<div class="block">Whether to use pulse fitting (EcalPulseFitter) to extract pulse energy time. Only applicable to Mode-1 data.</div>
</li>
</ul>
<a name="pulseFitter">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pulseFitter</h4>
<pre>private&nbsp;<a href="../../../../org/hps/recon/ecal/EcalPulseFitter.html" title="class in org.hps.recon.ecal">EcalPulseFitter</a> pulseFitter</pre>
<div class="block">The pulse fitter class.</div>
</li>
</ul>
<a name="nsPerSample">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nsPerSample</h4>
<pre>private static final&nbsp;int nsPerSample</pre>
<div class="block">The time for one FADC sample (units = ns).</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.hps.recon.ecal.EcalRawConverter2.nsPerSample">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="leadingEdgeThreshold">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>leadingEdgeThreshold</h4>
<pre>private&nbsp;double leadingEdgeThreshold</pre>
<div class="block">The leading-edge threshold, relative to pedestal, for pulse-finding and time determination. Units = ADC. Used to
 convert mode-1 readout into mode-3/7 used by clustering. The default value of 12 is what we used for most of the
 2014 run.</div>
</li>
</ul>
<a name="NSB">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NSB</h4>
<pre>private&nbsp;int NSB</pre>
<div class="block">Integration range after (NSA) and before (NSB) threshold crossing. Units=ns, same as the DAQ configuration files.
 These must be multiples of 4 ns. Used for pulse integration in Mode-1, and pedestal subtraction in all modes. The
 default values of 20/100 are what we had during the entire 2014 run.</div>
</li>
</ul>
<a name="NSA">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NSA</h4>
<pre>private&nbsp;int NSA</pre>
</li>
</ul>
<a name="windowSamples">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>windowSamples</h4>
<pre>private&nbsp;int windowSamples</pre>
<div class="block">The number of samples in the FADC readout window. Needed in order to properly pedestal-correct clipped pulses for
 Mode-3/7. Ignored for mode-1 input, since it already knows its number of samples. A non-positive number disables
 pulse-clipped pedestals and reverts to the old behavior which assumed integration range was constant.</div>
</li>
</ul>
<a name="nPeak">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nPeak</h4>
<pre>private&nbsp;int nPeak</pre>
<div class="block">The maximum number of peaks to be searched for. This is applicable only to Mode-1 data.</div>
</li>
</ul>
<a name="mode7">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mode7</h4>
<pre>private&nbsp;boolean mode7</pre>
<div class="block">Perform Mode-7 algorithm, else Mode-3. Only applicable to Mode-1 data.</div>
</li>
</ul>
<a name="ecalConditions">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ecalConditions</h4>
<pre>private&nbsp;<a href="../../../../org/hps/conditions/ecal/EcalConditions.html" title="class in org.hps.conditions.ecal">EcalConditions</a> ecalConditions</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EcalRawConverter2--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EcalRawConverter2</h4>
<pre>public&nbsp;EcalRawConverter2()</pre>
<div class="block">Currently sets up a listener for DAQ configuration from EVIO. This should be removed to a standalone
 ECalRawConverter solely for trigger emulation.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setUseFit-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUseFit</h4>
<pre>public&nbsp;void&nbsp;setUseFit(boolean&nbsp;useFit)</pre>
</li>
</ul>
<a name="setFixShapeParameter-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFixShapeParameter</h4>
<pre>public&nbsp;void&nbsp;setFixShapeParameter(boolean&nbsp;fix)</pre>
</li>
</ul>
<a name="setGlobalFixedPulseWidth-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGlobalFixedPulseWidth</h4>
<pre>public&nbsp;void&nbsp;setGlobalFixedPulseWidth(double&nbsp;width)</pre>
</li>
</ul>
<a name="setFitThresholdTimeLo-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFitThresholdTimeLo</h4>
<pre>public&nbsp;void&nbsp;setFitThresholdTimeLo(int&nbsp;sample)</pre>
<div class="block">Pulses with threshold crossing earlier than this will not be fit.</div>
</li>
</ul>
<a name="setFitThresholdTimeHi-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFitThresholdTimeHi</h4>
<pre>public&nbsp;void&nbsp;setFitThresholdTimeHi(int&nbsp;sample)</pre>
<div class="block">Pulses with threshold crossing time greater than this will not be fit.</div>
</li>
</ul>
<a name="setFitLimitTimeLo-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFitLimitTimeLo</h4>
<pre>public&nbsp;void&nbsp;setFitLimitTimeLo(int&nbsp;sample)</pre>
<div class="block">Tell Minuit to limit pulse time parameter in fit to be greater than this.</div>
</li>
</ul>
<a name="setFitLimitTimeHi-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFitLimitTimeHi</h4>
<pre>public&nbsp;void&nbsp;setFitLimitTimeHi(int&nbsp;sample)</pre>
<div class="block">Tell Minuit to limit pulse time parameter in fit to be less than this.</div>
</li>
</ul>
<a name="setLeadingEdgeThreshold-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLeadingEdgeThreshold</h4>
<pre>public&nbsp;void&nbsp;setLeadingEdgeThreshold(double&nbsp;thresh)</pre>
<div class="block">Set threshold for pulse finding. Units = ADC</div>
</li>
</ul>
<a name="setNSA-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNSA</h4>
<pre>public&nbsp;void&nbsp;setNSA(int&nbsp;nsa)</pre>
<div class="block">Set number of samples after threshold crossing for pulse integration range.</div>
</li>
</ul>
<a name="setNSB-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNSB</h4>
<pre>public&nbsp;void&nbsp;setNSB(int&nbsp;nsb)</pre>
<div class="block">Set number of samples before threshold crossing for pulse integration range.</div>
</li>
</ul>
<a name="setWindowSamples-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setWindowSamples</h4>
<pre>public&nbsp;void&nbsp;setWindowSamples(int&nbsp;windowSamples)</pre>
<div class="block">Set number of samples in readout window. Used for pedestal subtraction for clipped pulses. This is ignored for
 Mode-1 raw data, since Mode-1 knows its number of samples.</div>
</li>
</ul>
<a name="setNPeak-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNPeak</h4>
<pre>public&nbsp;void&nbsp;setNPeak(int&nbsp;nPeak)</pre>
<div class="block">Set maximum number of pulses to search for in Mode-1 data.</div>
</li>
</ul>
<a name="setMode7-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMode7</h4>
<pre>public&nbsp;void&nbsp;setMode7(boolean&nbsp;mode7)</pre>
<div class="block">Set Mode-7 emulation on/off. If off, falls back to Mode-3.</div>
</li>
</ul>
<a name="setGain-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGain</h4>
<pre>public&nbsp;void&nbsp;setGain(double&nbsp;gain)</pre>
<div class="block">Set global gain value and turn on constant gain. The 442 gains from the conditions system will be ignored.</div>
</li>
</ul>
<a name="setUse2014Gain-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUse2014Gain</h4>
<pre>public&nbsp;void&nbsp;setUse2014Gain(boolean&nbsp;use2014Gain)</pre>
<div class="block">Chooses which ADC --> Energy convention is used. If true, the relationship between ADC and GeV is a convention
 that includes readoutPeriod and a global scaling factor. If false, it is the currently used convention: E(GeV) =
 GAIN * ADC</div>
</li>
</ul>
<a name="setUseRunningPedestal-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUseRunningPedestal</h4>
<pre>public&nbsp;void&nbsp;setUseRunningPedestal(boolean&nbsp;useRunningPedestal)</pre>
<div class="block">Enables using running pedestals calculated on the fly from previous events. If false, uses 442 fixed pedestals
 from the conditions system. Only applies to FADC Mode-1/7 input data formats.</div>
</li>
</ul>
<a name="setUseTimeWalkCorrection-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUseTimeWalkCorrection</h4>
<pre>public&nbsp;void&nbsp;setUseTimeWalkCorrection(boolean&nbsp;useTimeWalkCorrection)</pre>
<div class="block">Set whether to use timewalk corrections.</div>
</li>
</ul>
<a name="setUseDAQConfig-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUseDAQConfig</h4>
<pre>public&nbsp;void&nbsp;setUseDAQConfig(boolean&nbsp;state)</pre>
<div class="block">Set whether to use DAQ configuration read from EVIO to set EcalRawConverter parameters. This should be removed to
 a standalone EcalRawCongverterDriver solely for trigger emulation.</div>
</li>
</ul>
<a name="sumADC-org.lcsim.event.RawTrackerHit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sumADC</h4>
<pre>public&nbsp;int&nbsp;sumADC(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawTrackerHit.html?is-external=true" title="class or interface in org.lcsim.event">RawTrackerHit</a>&nbsp;hit)</pre>
<div class="block">Integrate the entire window. Return pedestal-subtracted integral.</div>
</li>
</ul>
<a name="HitDtoA-org.lcsim.event.RawTrackerHit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HitDtoA</h4>
<pre>public&nbsp;<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/CalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">CalorimeterHit</a>&nbsp;HitDtoA(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawTrackerHit.html?is-external=true" title="class or interface in org.lcsim.event">RawTrackerHit</a>&nbsp;hit)</pre>
<div class="block">This should probably be deprecated. HitDtoA(EventHeader,RawTrackerHit) has the same functionality if NSA+NSB >
 windowSamples, with the exception that that one also finds pulse time instead of this one's always reporting
 zero.</div>
</li>
</ul>
<a name="getSingleSamplePedestal-org.lcsim.event.EventHeader-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSingleSamplePedestal</h4>
<pre>public&nbsp;double&nbsp;getSingleSamplePedestal(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/EventHeader.html?is-external=true" title="class or interface in org.lcsim.event">EventHeader</a>&nbsp;event,
                                      long&nbsp;cellID)</pre>
<div class="block">Get pedestal for a single ADC sample. Choose whether to use static pedestal from database or running pedestal
 from mode-7.</div>
</li>
</ul>
<a name="getPulsePedestal-org.lcsim.event.EventHeader-long-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPulsePedestal</h4>
<pre>public&nbsp;double&nbsp;getPulsePedestal(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/EventHeader.html?is-external=true" title="class or interface in org.lcsim.event">EventHeader</a>&nbsp;event,
                               long&nbsp;cellID,
                               int&nbsp;windowSamples,
                               int&nbsp;thresholdCrossing)</pre>
<div class="block">Get pedestal for entire pulse integral. Account for clipping if windowSamples is greater than zero.</div>
</li>
</ul>
<a name="convertWaveformToPulse-org.lcsim.event.RawTrackerHit-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>convertWaveformToPulse</h4>
<pre>public&nbsp;double[]&nbsp;convertWaveformToPulse(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawTrackerHit.html?is-external=true" title="class or interface in org.lcsim.event">RawTrackerHit</a>&nbsp;hit,
                                       int&nbsp;thresholdCrossing,
                                       boolean&nbsp;mode7)</pre>
<div class="block">Emulate the FADC250 firmware in conversion of Mode-1 waveform to a Mode-3/7 pulse, given a time for threshold
 crossing.</div>
</li>
</ul>
<a name="HitDtoA-org.lcsim.event.EventHeader-org.lcsim.event.RawTrackerHit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HitDtoA</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html?is-external=true" title="class or interface in java.util">ArrayList</a>&lt;<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/CalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">CalorimeterHit</a>&gt;&nbsp;HitDtoA(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/EventHeader.html?is-external=true" title="class or interface in org.lcsim.event">EventHeader</a>&nbsp;event,
                                         <a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawTrackerHit.html?is-external=true" title="class or interface in org.lcsim.event">RawTrackerHit</a>&nbsp;hit)</pre>
<div class="block">This HitDtoA is for emulating the conversion of Mode-1 readout (RawTrackerHit) into what EcalRawConverter would
 have created from a Mode-3 or Mode-7 readout. Clustering classes will read the resulting CalorimeterHits same as
 if they were directly readout from the FADCs in Mode-3/7. For Mode-3, hit time is just the time of threshold
 crossing, with an optional time-walk correction. For Mode-7, it is a "high-resolution" one calculated by linear
 interpolation between threshold crossing and pulse maximum. TODO: Generate GenericObject (and corresponding
 LCRelation) to store min and max to fully emulate mode-7. This is less important for now.</div>
</li>
</ul>
<a name="HitDtoA-org.lcsim.event.EventHeader-org.lcsim.event.RawCalorimeterHit-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HitDtoA</h4>
<pre>public&nbsp;<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/CalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">CalorimeterHit</a>&nbsp;HitDtoA(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/EventHeader.html?is-external=true" title="class or interface in org.lcsim.event">EventHeader</a>&nbsp;event,
                              <a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawCalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">RawCalorimeterHit</a>&nbsp;hit,
                              double&nbsp;timeOffset)</pre>
<div class="block">This HitDtoA is for Mode-3 data. A time-walk correction can be applied.</div>
</li>
</ul>
<a name="HitDtoA-org.lcsim.event.EventHeader-org.lcsim.event.RawCalorimeterHit-org.lcsim.event.GenericObject-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HitDtoA</h4>
<pre>public&nbsp;<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/CalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">CalorimeterHit</a>&nbsp;HitDtoA(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/EventHeader.html?is-external=true" title="class or interface in org.lcsim.event">EventHeader</a>&nbsp;event,
                              <a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawCalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">RawCalorimeterHit</a>&nbsp;hit,
                              <a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/GenericObject.html?is-external=true" title="class or interface in org.lcsim.event">GenericObject</a>&nbsp;mode7Data,
                              double&nbsp;timeOffset)</pre>
<div class="block">This HitDtoA is exclusively for Mode-7 data, hence the GenericObject parameter.</div>
</li>
</ul>
<a name="HitAtoD-org.lcsim.event.CalorimeterHit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HitAtoD</h4>
<pre>public&nbsp;<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/RawCalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">RawCalorimeterHit</a>&nbsp;HitAtoD(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/event/CalorimeterHit.html?is-external=true" title="class or interface in org.lcsim.event">CalorimeterHit</a>&nbsp;hit)</pre>
<div class="block">This converts a corrected pulse integral (pedestal-subtracted and gain-scaled) back into raw pulse integral with
 units ADC.</div>
</li>
</ul>
<a name="adcToEnergy-double-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>adcToEnergy</h4>
<pre>private&nbsp;double&nbsp;adcToEnergy(double&nbsp;adcSum,
                           long&nbsp;cellID)</pre>
<div class="block">return energy (units of GeV) corresponding to the ADC sum and crystal ID</div>
</li>
</ul>
<a name="setDetector-org.lcsim.geometry.Detector-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDetector</h4>
<pre>public&nbsp;void&nbsp;setDetector(<a href="http://www.lcsim.org/sites/lcsim/apidocs/org/lcsim/geometry/Detector.html?is-external=true" title="class or interface in org.lcsim.geometry">Detector</a>&nbsp;detector)</pre>
<div class="block">Must be set when an object EcalRawConverter is created.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>detector</code> - (long)</dd>
</dl>
</li>
</ul>
<a name="findChannel-long-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>findChannel</h4>
<pre>public&nbsp;<a href="../../../../org/hps/conditions/ecal/EcalChannelConstants.html" title="class in org.hps.conditions.ecal">EcalChannelConstants</a>&nbsp;findChannel(long&nbsp;cellID)</pre>
<div class="block">Convert physical ID to gain value.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cellID</code> - (long)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>channel constants (EcalChannelConstants)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EcalRawConverter2.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/hps/recon/ecal/EcalRawConverter.html" title="class in org.hps.recon.ecal"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/hps/recon/ecal/EcalRawConverter2Driver.html" title="class in org.hps.recon.ecal"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/hps/recon/ecal/EcalRawConverter2.html" target="_top">Frames</a></li>
<li><a href="EcalRawConverter2.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2023 <a href="https://confluence.slac.stanford.edu/display/hpsg/Heavy+Photon+Search+Experiment">Heavy Photon Search (HPS)</a>. All rights reserved.</small></p>
</body>
</html>